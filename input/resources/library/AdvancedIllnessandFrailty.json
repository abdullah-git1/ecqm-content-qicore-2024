{
  "resourceType": "Library",
  "id": "AdvancedIllnessandFrailty",
  "meta": {
    "profile": [ "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/computable-library-cqfm" ]
  },
  "language": "en",
  "text": {
    "status": "extensions",
    "div": "<div xmlns=\"http://www.w3.org/1999/xhtml\"> \n         <table class=\"grid dict\"> \n            <tr> \n               <th scope=\"row\"> \n                  <b>Id: </b> \n               </th> \n               <td style=\"padding-left: 4px;\">64b86c4f774bb523d9a1457e</td> \n            </tr> \n            <tr> \n               <th scope=\"row\"> \n                  <b>Url: </b> \n               </th> \n               <td style=\"padding-left: 4px;\">http://ecqi.healthit.gov/ecqms/Library/AdvancedIllnessandFrailty</td> \n            </tr> \n            <tr> \n               <th scope=\"row\"> \n                  <b>Version: </b> \n               </th> \n               <td style=\"padding-left: 4px;\">1.6.000</td> \n            </tr> \n            <tr> \n               <th scope=\"row\"> \n                  <b>Identifier: </b> \n               </th> \n               <td style=\"padding-left: 4px;\"> \n                  <p style=\"margin-bottom: 5px;\"> \n                     <b>value: </b> \n                     <span>64b86c4f774bb523d9a1457e</span> \n                  </p> \n               </td> \n            </tr> \n            <tr> \n               <th scope=\"row\"> \n                  <b>Name: </b> \n               </th> \n               <td style=\"padding-left: 4px;\">AdvancedIllnessandFrailty</td> \n            </tr> \n            <tr> \n               <th scope=\"row\"> \n                  <b>Title: </b> \n               </th> \n               <td style=\"padding-left: 4px;\">AdvancedIllnessandFrailty</td> \n            </tr> \n            <tr> \n               <th scope=\"row\"> \n                  <b>Status: </b> \n               </th> \n               <td style=\"padding-left: 4px;\">active</td> \n            </tr> \n            <tr> \n               <th scope=\"row\"> \n                  <b>Experimental: </b> \n               </th> \n               <td style=\"padding-left: 4px;\">false</td> \n            </tr> \n            <tr> \n               <th scope=\"row\"> \n                  <b>Type: </b> \n               </th> \n               <td style=\"padding-left: 4px;\"> \n                  <p style=\"margin-bottom: 5px;\"> \n                     <b>system: </b> \n                     <span>http://terminology.hl7.org/CodeSystem/library-type</span> \n                  </p> \n                  <p style=\"margin-bottom: 5px;\"> \n                     <b>code: </b> \n                     <span>logic-library</span> \n                  </p> \n               </td> \n            </tr> \n            <tr> \n               <th scope=\"row\"> \n                  <b>Date: </b> \n               </th> \n               <td style=\"padding-left: 4px;\">2023-08-28T15:49:25+00:00</td> \n            </tr> \n            <tr> \n               <th scope=\"row\"> \n                  <b>Publisher: </b> \n               </th> \n               <td style=\"padding-left: 4px;\">National Committee for Quality Assurance</td> \n            </tr> \n            <tr> \n               <th scope=\"row\"> \n                  <b>Description: </b> \n               </th> \n               <td style=\"padding-left: 4px;\">This library contains definitions used to exclude patients 66 and older with an indication of frailty who also meet advanced illness criteria, and patients 66 and older who are living long term in a nursing home.</td> \n            </tr> \n            <tr> \n               <th scope=\"row\"> \n                  <b>Related Artifacts: </b> \n               </th> \n               <td style=\"padding-left: 4px;\"> \n                  <p> \n                     <b>Dependencies</b> \n                  </p> \n                  <ul> \n                     <li/> \n                     <li/> \n                     <li/> \n                     <li/> \n                     <li/> \n                     <li/> \n                     <li/> \n                     <li/> \n                     <li/> \n                     <li/> \n                     <li/> \n                     <li/> \n                     <li/> \n                     <li/> \n                     <li/> \n                     <li/> \n                     <li/> \n                     <li/> \n                  </ul> \n               </td> \n            </tr> \n            <tr> \n               <th scope=\"row\"> \n                  <b>Data Requirements:</b> \n               </th> \n               <td style=\"padding-left: 4px;\"> \n                  <table class=\"grid-dict\"> \n                     <tr> \n                        <th> \n                           <b>Type</b> \n                        </th> \n                        <th> \n                           <b>Profile</b> \n                        </th> \n                        <th> \n                           <b>MS</b> \n                        </th> \n                        <th> \n                           <b>Code Filter</b> \n                        </th> \n                     </tr> \n                     <tr> \n                        <th>DeviceRequest</th> \n                        <th/> \n                        <th/> \n                        <th> \n                           <b>code filter: </b> \n                           <br/> \n                           <span style=\"padding-left: 4px;\"> \n                              <b>path: </b> \n                              <span>code</span> \n                           </span> \n                           <br/> \n                           <span style=\"padding-left: 4px;\"> \n                              <b>value set: </b> \n                              <span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.118.12.1300</span> \n                           </span> \n                        </th> \n                     </tr> \n                     <tr> \n                        <th>Observation</th> \n                        <th/> \n                        <th/> \n                        <th> \n                           <b>code filter: </b> \n                           <br/> \n                           <span style=\"padding-left: 4px;\"> \n                              <b>path: </b> \n                              <span>code</span> \n                           </span> \n                           <br/> \n                           <p style=\"margin-bottom: 5px;\"> \n                              <b>system: </b> \n                              <span>http://loinc.org</span> \n                           </p> \n                           <p style=\"margin-bottom: 5px;\"> \n                              <b>code: </b> \n                              <span>98181-1</span> \n                           </p> \n                           <p style=\"margin-bottom: 5px;\"> \n                              <b>display: </b> \n                              <span>Medical equipment used</span> \n                           </p>  \n                        </th> \n                     </tr> \n                     <tr> \n                        <th>Condition</th> \n                        <th/> \n                        <th/> \n                        <th> \n                           <b>code filter: </b> \n                           <br/> \n                           <span style=\"padding-left: 4px;\"> \n                              <b>path: </b> \n                              <span>code</span> \n                           </span> \n                           <br/> \n                           <span style=\"padding-left: 4px;\"> \n                              <b>value set: </b> \n                              <span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.113.12.1074</span> \n                           </span> \n                        </th> \n                     </tr> \n                     <tr> \n                        <th>Encounter</th> \n                        <th/> \n                        <th/> \n                        <th> \n                           <b>code filter: </b> \n                           <br/> \n                           <span style=\"padding-left: 4px;\"> \n                              <b>path: </b> \n                              <span>code</span> \n                           </span> \n                           <br/> \n                           <span style=\"padding-left: 4px;\"> \n                              <b>value set: </b> \n                              <span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1088</span> \n                           </span> \n                        </th> \n                     </tr> \n                     <tr> \n                        <th>Observation</th> \n                        <th/> \n                        <th/> \n                        <th> \n                           <b>code filter: </b> \n                           <br/> \n                           <span style=\"padding-left: 4px;\"> \n                              <b>path: </b> \n                              <span>code</span> \n                           </span> \n                           <br/> \n                           <span style=\"padding-left: 4px;\"> \n                              <b>value set: </b> \n                              <span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.113.12.1075</span> \n                           </span> \n                        </th> \n                     </tr> \n                     <tr> \n                        <th>Encounter</th> \n                        <th/> \n                        <th/> \n                        <th> \n                           <b>code filter: </b> \n                           <br/> \n                           <span style=\"padding-left: 4px;\"> \n                              <b>path: </b> \n                              <span>code</span> \n                           </span> \n                           <br/> \n                           <span style=\"padding-left: 4px;\"> \n                              <b>value set: </b> \n                              <span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1087</span> \n                           </span> \n                        </th> \n                     </tr> \n                     <tr> \n                        <th>Encounter</th> \n                        <th/> \n                        <th/> \n                        <th> \n                           <b>code filter: </b> \n                           <br/> \n                           <span style=\"padding-left: 4px;\"> \n                              <b>path: </b> \n                              <span>code</span> \n                           </span> \n                           <br/> \n                           <span style=\"padding-left: 4px;\"> \n                              <b>value set: </b> \n                              <span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1086</span> \n                           </span> \n                        </th> \n                     </tr> \n                     <tr> \n                        <th>Encounter</th> \n                        <th/> \n                        <th/> \n                        <th> \n                           <b>code filter: </b> \n                           <br/> \n                           <span style=\"padding-left: 4px;\"> \n                              <b>path: </b> \n                              <span>code</span> \n                           </span> \n                           <br/> \n                           <span style=\"padding-left: 4px;\"> \n                              <b>value set: </b> \n                              <span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1010</span> \n                           </span> \n                        </th> \n                     </tr> \n                     <tr> \n                        <th>Encounter</th> \n                        <th/> \n                        <th/> \n                        <th> \n                           <b>code filter: </b> \n                           <br/> \n                           <span style=\"padding-left: 4px;\"> \n                              <b>path: </b> \n                              <span>code</span> \n                           </span> \n                           <br/> \n                           <span style=\"padding-left: 4px;\"> \n                              <b>value set: </b> \n                              <span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1084</span> \n                           </span> \n                        </th> \n                     </tr> \n                     <tr> \n                        <th>Encounter</th> \n                        <th/> \n                        <th/> \n                        <th> \n                           <b>code filter: </b> \n                           <br/> \n                           <span style=\"padding-left: 4px;\"> \n                              <b>path: </b> \n                              <span>code</span> \n                           </span> \n                           <br/> \n                           <span style=\"padding-left: 4px;\"> \n                              <b>value set: </b> \n                              <span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1083</span> \n                           </span> \n                        </th> \n                     </tr> \n                     <tr> \n                        <th>MedicationRequest</th> \n                        <th/> \n                        <th/> \n                        <th> \n                           <b>code filter: </b> \n                           <br/> \n                           <span style=\"padding-left: 4px;\">  \n                              <b>path: </b> \n                              <span>code</span> \n                           </span> \n                           <br/> \n                           <span style=\"padding-left: 4px;\"> \n                              <b>value set: </b> \n                              <span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.196.12.1510</span> \n                           </span> \n                        </th> \n                     </tr> \n                     <tr> \n                        <th>Observation</th> \n                        <th/> \n                        <th/> \n                        <th> \n                           <b>code filter: </b> \n                           <br/> \n                           <span style=\"padding-left: 4px;\"> \n                              <b>path: </b> \n                              <span>code</span> \n                           </span> \n                           <br/> \n                           <p style=\"margin-bottom: 5px;\"> \n                              <b>system: </b> \n                              <span>http://loinc.org</span> \n                           </p> \n                           <p style=\"margin-bottom: 5px;\"> \n                              <b>code: </b> \n                              <span>71802-3</span> \n                           </p> \n                           <p style=\"margin-bottom: 5px;\"> \n                              <b>display: </b> \n                              <span>Housing status</span> \n                           </p> \n                        </th> \n                     </tr> \n                  </table> \n               </td> \n            </tr> \n            <tr> \n               <td colspan=\"2\"> \n                  <table> \n                     <tr> \n                        <th> \n                           <a id=\"cql-content\"> \n                              <b>Content: </b> \n                           </a> text/cql \n                        </th> \n                     </tr> \n                     <tr> \n                        <td> \n                           <pre><code class=\"language-cql\">library AdvancedIllnessandFrailty version '1.6.000'\n\nusing QICore version '4.1.1'\n\ninclude FHIRHelpers version '4.3.000' called FHIRHelpers\ninclude QICoreCommon version '1.5.000' called QICoreCommon\ninclude CQMCommon version '1.4.000' called Global\ninclude CumulativeMedicationDuration version '3.3.000' called CMD\ninclude Status version '1.6.000' called Status\n\ncodesystem &quot;LOINC&quot;: 'http://loinc.org'\ncodesystem &quot;SNOMEDCT&quot;: 'http://snomed.info/sct'\n\nvalueset &quot;Acute Inpatient&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1083'\nvalueset &quot;Advanced Illness&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.110.12.1082'\nvalueset &quot;Dementia Medications&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.196.12.1510'\nvalueset &quot;Emergency Department Evaluation and Management Visit&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1010'\nvalueset &quot;Frailty Device&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.118.12.1300'\nvalueset &quot;Frailty Diagnosis&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.113.12.1074'\nvalueset &quot;Frailty Encounter&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1088'\nvalueset &quot;Frailty Symptom&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.113.12.1075'\nvalueset &quot;Nonacute Inpatient&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1084'\nvalueset &quot;Observation&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1086'\nvalueset &quot;Outpatient&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1087'\n\ncode &quot;Housing status&quot;: '71802-3' from &quot;LOINC&quot; display 'Housing status'\ncode &quot;Lives in a nursing home (finding)&quot;: '160734000' from &quot;SNOMEDCT&quot; display 'Lives in a nursing home (finding)'\ncode &quot;Medical equipment used&quot;: '98181-1' from &quot;LOINC&quot; display 'Medical equipment used'\n\nparameter &quot;Measurement Period&quot; Interval&lt;DateTime&gt;\n\ncontext Patient\n\ndefine &quot;Is Age 66 or Older with Advanced Illness and Frailty&quot;:\n   AgeInYearsAt(date from end of &quot;Measurement Period&quot;)&gt;= 66\n    and &quot;Has Criteria Indicating Frailty&quot;\n    and ( &quot;Has Two Outpatient Encounters with Advanced Illness on Different Dates of Service&quot;\n        or &quot;Has Inpatient Encounter with Advanced Illness&quot;\n        or &quot;Has Dementia Medications in Year Before or During Measurement Period&quot;\n    )\n\ndefine &quot;Is Age 66 to 80 with Advanced Illness and Frailty or Is Age 81 or Older with Frailty&quot;:\n  ( AgeInYearsAt(date from end of &quot;Measurement Period&quot;)in Interval[66, 80]\n      and &quot;Has Criteria Indicating Frailty&quot;\n      and ( &quot;Has Two Outpatient Encounters with Advanced Illness on Different Dates of Service&quot;\n          or &quot;Has Inpatient Encounter with Advanced Illness&quot;\n          or &quot;Has Dementia Medications in Year Before or During Measurement Period&quot;\n      )\n  )\n    or ( AgeInYearsAt(date from end of &quot;Measurement Period&quot;)&gt;= 81\n        and &quot;Has Criteria Indicating Frailty&quot;\n    )\n\ndefine &quot;Has Criteria Indicating Frailty&quot;:\n  exists ( (([DeviceRequest: &quot;Frailty Device&quot;]).isDeviceOrder()) FrailtyDeviceOrder\n      where FrailtyDeviceOrder.doNotPerform() is not true\n      and FrailtyDeviceOrder.authoredOn.toInterval() during day of &quot;Measurement Period&quot;\n  )\n    or exists ( (([Observation: &quot;Medical equipment used&quot;]).isAssessmentPerformed()) EquipmentUsed\n        where EquipmentUsed.value as Concept in &quot;Frailty Device&quot; \n        and EquipmentUsed.effective.toInterval() ends during day of &quot;Measurement Period&quot;\n    )\n    or exists ( ([Condition: &quot;Frailty Diagnosis&quot;]) FrailtyDiagnosis\n        where FrailtyDiagnosis.prevalenceInterval() overlaps &quot;Measurement Period&quot;\n    )\n    or exists ( (([Encounter: &quot;Frailty Encounter&quot;]).isEncounterPerformed()) FrailtyEncounter\n        where FrailtyEncounter.period.toInterval() overlaps &quot;Measurement Period&quot;\n    )\n    or exists ( (([Observation: &quot;Frailty Symptom&quot;]).isSymptom()) FrailtySymptom\n        where FrailtySymptom.effective.toInterval() overlaps &quot;Measurement Period&quot;\n    )\n\ndefine &quot;Has Two Outpatient Encounters with Advanced Illness on Different Dates of Service&quot;:\n  exists ( from\n      &quot;Outpatient Encounters with Advanced Illness&quot; OutpatientEncounter1,\n      &quot;Outpatient Encounters with Advanced Illness&quot; OutpatientEncounter2\n      where OutpatientEncounter2.period ends 1 day or more after day of \n      end of OutpatientEncounter1.period\n      return OutpatientEncounter1\n  )\n\ndefine &quot;Outpatient Encounters with Advanced Illness&quot;:\n   (( [Encounter: &quot;Outpatient&quot;]\n    union [Encounter: &quot;Observation&quot;]\n    union [Encounter: &quot;Emergency Department Evaluation and Management Visit&quot;]\n    union [Encounter: &quot;Nonacute Inpatient&quot;] ).isEncounterPerformed()) OutpatientEncounter\n      where exists ((OutpatientEncounter.encounterDiagnosis()) Diagnosis where Diagnosis.code in &quot;Advanced Illness&quot;)\n        and OutpatientEncounter.period.toInterval() starts during day of Interval[start of &quot;Measurement Period&quot; - 1 year, \n        end of &quot;Measurement Period&quot;]\n\ndefine &quot;Has Inpatient Encounter with Advanced Illness&quot;:\n  exists ( ( ([Encounter: &quot;Acute Inpatient&quot;]).isEncounterPerformed()) InpatientEncounter\n      where exists ((InpatientEncounter.encounterDiagnosis()) Diagnosis where Diagnosis.code in &quot;Advanced Illness&quot;)\n        and InpatientEncounter.period.toInterval() starts during day of Interval[start of &quot;Measurement Period&quot; - 1 year, \n          end of &quot;Measurement Period&quot;]\n  )\n\ndefine &quot;Has Dementia Medications in Year Before or During Measurement Period&quot;:\n  exists (( ([MedicationRequest: &quot;Dementia Medications&quot;]).isMedicationActive()) DementiaMedication\n      where DementiaMedication.doNotPerform is not true and\n      CMD.&quot;MedicationRequestPeriod&quot; ( DementiaMedication ) overlaps Interval[start of &quot;Measurement Period&quot; - 1 year, \n        end of &quot;Measurement Period&quot;]\n  )\n\ndefine &quot;Is Age 66 or Older Living Long Term in a Nursing Home&quot;:\n  AgeInYearsAt(date from \n     end of &quot;Measurement Period&quot;\n  )&gt;= 66\n    and ( ( Last( (([Observation: &quot;Housing status&quot;]).isAssessmentPerformed()) HousingStatus    \n          where HousingStatus.effective.toInterval() ends on or before \n          end of &quot;Measurement Period&quot;\n          sort by \n          end of effective.toInterval() asc\n      )) LastHousingStatus\n        where LastHousingStatus.value ~ &quot;Lives in a nursing home (finding)&quot;\n    ) is not null</code></pre> \n                        </td> \n                     </tr> \n                  </table> \n               </td> \n            </tr> \n            <tr> \n               <td colspan=\"2\"> \n                  <table> \n                     <tr> \n                        <th> \n                           <b>Content: </b> application/elm+xml \n                        </th> \n                     </tr> \n                     <tr> \n                        <td> \n                           <pre><code>Encoded data (248696 characters)</code></pre> \n                        </td> \n                     </tr> \n                  </table> \n               </td> \n            </tr> \n            <tr> \n               <td colspan=\"2\"> \n                  <table> \n                     <tr> \n                        <th> \n                           <b>Content: </b> application/elm+json \n                        </th> \n                     </tr> \n                     <tr> \n                        <td> \n                           <pre><code>Encoded data (360368 characters)</code></pre> \n                        </td> \n                     </tr> \n                  </table> \n               </td> \n            </tr> \n         </table> \n      </div>"
  },
  "extension": [ {
    "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-softwaresystem",
    "valueReference": {
      "reference": "Device/cqf-tooling"
    }
  } ],
  "url": "http://ecqi.healthit.gov/ecqms/Library/AdvancedIllnessandFrailty",
  "identifier": [ {
    "use": "official",
    "system": "https://madie.cms.gov/login",
    "value": "64b86c4f774bb523d9a1457e"
  } ],
  "version": "1.6.000",
  "name": "AdvancedIllnessandFrailty",
  "title": "AdvancedIllnessandFrailty",
  "status": "active",
  "experimental": false,
  "type": {
    "coding": [ {
      "system": "http://terminology.hl7.org/CodeSystem/library-type",
      "code": "logic-library"
    } ]
  },
  "date": "2023-08-28T15:49:25+00:00",
  "publisher": "National Committee for Quality Assurance",
  "description": "This library contains definitions used to exclude patients 66 and older with an indication of frailty who also meet advanced illness criteria, and patients 66 and older who are living long term in a nursing home.",
  "relatedArtifact": [ {
    "id": "71802-3",
    "display": "Housing status",
    "url": "http://loinc.org",
    "document": {
      "url": "http://loinc.org"
    }
  }, {
    "id": "98181-1",
    "display": "Medical equipment used",
    "url": "http://loinc.org",
    "document": {
      "url": "http://loinc.org"
    }
  }, {
    "id": "160734000",
    "display": "Lives in a nursing home (finding)",
    "url": "http://snomed.info/sct",
    "document": {
      "url": "http://snomed.info/sct"
    }
  } ],
  "content": [ {
    "contentType": "text/cql",
    "data": "bGlicmFyeSBBZHZhbmNlZElsbG5lc3NhbmRGcmFpbHR5IHZlcnNpb24gJzEuNi4wMDAnCgp1c2luZyBRSUNvcmUgdmVyc2lvbiAnNC4xLjEnCgppbmNsdWRlIEZISVJIZWxwZXJzIHZlcnNpb24gJzQuMy4wMDAnIGNhbGxlZCBGSElSSGVscGVycwppbmNsdWRlIFFJQ29yZUNvbW1vbiB2ZXJzaW9uICcxLjUuMDAwJyBjYWxsZWQgUUlDb3JlQ29tbW9uCmluY2x1ZGUgQ1FNQ29tbW9uIHZlcnNpb24gJzEuNC4wMDAnIGNhbGxlZCBHbG9iYWwKaW5jbHVkZSBDdW11bGF0aXZlTWVkaWNhdGlvbkR1cmF0aW9uIHZlcnNpb24gJzMuMy4wMDAnIGNhbGxlZCBDTUQKaW5jbHVkZSBTdGF0dXMgdmVyc2lvbiAnMS42LjAwMCcgY2FsbGVkIFN0YXR1cwoKY29kZXN5c3RlbSAiTE9JTkMiOiAnaHR0cDovL2xvaW5jLm9yZycKY29kZXN5c3RlbSAiU05PTUVEQ1QiOiAnaHR0cDovL3Nub21lZC5pbmZvL3NjdCcKCnZhbHVlc2V0ICJBY3V0ZSBJbnBhdGllbnQiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNDY0LjEwMDMuMTAxLjEyLjEwODMnCnZhbHVlc2V0ICJBZHZhbmNlZCBJbGxuZXNzIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjQ2NC4xMDAzLjExMC4xMi4xMDgyJwp2YWx1ZXNldCAiRGVtZW50aWEgTWVkaWNhdGlvbnMiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNDY0LjEwMDMuMTk2LjEyLjE1MTAnCnZhbHVlc2V0ICJFbWVyZ2VuY3kgRGVwYXJ0bWVudCBFdmFsdWF0aW9uIGFuZCBNYW5hZ2VtZW50IFZpc2l0IjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjQ2NC4xMDAzLjEwMS4xMi4xMDEwJwp2YWx1ZXNldCAiRnJhaWx0eSBEZXZpY2UiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNDY0LjEwMDMuMTE4LjEyLjEzMDAnCnZhbHVlc2V0ICJGcmFpbHR5IERpYWdub3NpcyI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy40NjQuMTAwMy4xMTMuMTIuMTA3NCcKdmFsdWVzZXQgIkZyYWlsdHkgRW5jb3VudGVyIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjQ2NC4xMDAzLjEwMS4xMi4xMDg4Jwp2YWx1ZXNldCAiRnJhaWx0eSBTeW1wdG9tIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjQ2NC4xMDAzLjExMy4xMi4xMDc1Jwp2YWx1ZXNldCAiTm9uYWN1dGUgSW5wYXRpZW50IjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjQ2NC4xMDAzLjEwMS4xMi4xMDg0Jwp2YWx1ZXNldCAiT2JzZXJ2YXRpb24iOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNDY0LjEwMDMuMTAxLjEyLjEwODYnCnZhbHVlc2V0ICJPdXRwYXRpZW50IjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjQ2NC4xMDAzLjEwMS4xMi4xMDg3JwoKY29kZSAiSG91c2luZyBzdGF0dXMiOiAnNzE4MDItMycgZnJvbSAiTE9JTkMiIGRpc3BsYXkgJ0hvdXNpbmcgc3RhdHVzJwpjb2RlICJMaXZlcyBpbiBhIG51cnNpbmcgaG9tZSAoZmluZGluZykiOiAnMTYwNzM0MDAwJyBmcm9tICJTTk9NRURDVCIgZGlzcGxheSAnTGl2ZXMgaW4gYSBudXJzaW5nIGhvbWUgKGZpbmRpbmcpJwpjb2RlICJNZWRpY2FsIGVxdWlwbWVudCB1c2VkIjogJzk4MTgxLTEnIGZyb20gIkxPSU5DIiBkaXNwbGF5ICdNZWRpY2FsIGVxdWlwbWVudCB1c2VkJwoKcGFyYW1ldGVyICJNZWFzdXJlbWVudCBQZXJpb2QiIEludGVydmFsPERhdGVUaW1lPgoKY29udGV4dCBQYXRpZW50CgpkZWZpbmUgIklzIEFnZSA2NiBvciBPbGRlciB3aXRoIEFkdmFuY2VkIElsbG5lc3MgYW5kIEZyYWlsdHkiOgogICBBZ2VJblllYXJzQXQoZGF0ZSBmcm9tIGVuZCBvZiAiTWVhc3VyZW1lbnQgUGVyaW9kIik+PSA2NgogICAgYW5kICJIYXMgQ3JpdGVyaWEgSW5kaWNhdGluZyBGcmFpbHR5IgogICAgYW5kICggIkhhcyBUd28gT3V0cGF0aWVudCBFbmNvdW50ZXJzIHdpdGggQWR2YW5jZWQgSWxsbmVzcyBvbiBEaWZmZXJlbnQgRGF0ZXMgb2YgU2VydmljZSIKICAgICAgICBvciAiSGFzIElucGF0aWVudCBFbmNvdW50ZXIgd2l0aCBBZHZhbmNlZCBJbGxuZXNzIgogICAgICAgIG9yICJIYXMgRGVtZW50aWEgTWVkaWNhdGlvbnMgaW4gWWVhciBCZWZvcmUgb3IgRHVyaW5nIE1lYXN1cmVtZW50IFBlcmlvZCIKICAgICkKCmRlZmluZSAiSXMgQWdlIDY2IHRvIDgwIHdpdGggQWR2YW5jZWQgSWxsbmVzcyBhbmQgRnJhaWx0eSBvciBJcyBBZ2UgODEgb3IgT2xkZXIgd2l0aCBGcmFpbHR5IjoKICAoIEFnZUluWWVhcnNBdChkYXRlIGZyb20gZW5kIG9mICJNZWFzdXJlbWVudCBQZXJpb2QiKWluIEludGVydmFsWzY2LCA4MF0KICAgICAgYW5kICJIYXMgQ3JpdGVyaWEgSW5kaWNhdGluZyBGcmFpbHR5IgogICAgICBhbmQgKCAiSGFzIFR3byBPdXRwYXRpZW50IEVuY291bnRlcnMgd2l0aCBBZHZhbmNlZCBJbGxuZXNzIG9uIERpZmZlcmVudCBEYXRlcyBvZiBTZXJ2aWNlIgogICAgICAgICAgb3IgIkhhcyBJbnBhdGllbnQgRW5jb3VudGVyIHdpdGggQWR2YW5jZWQgSWxsbmVzcyIKICAgICAgICAgIG9yICJIYXMgRGVtZW50aWEgTWVkaWNhdGlvbnMgaW4gWWVhciBCZWZvcmUgb3IgRHVyaW5nIE1lYXN1cmVtZW50IFBlcmlvZCIKICAgICAgKQogICkKICAgIG9yICggQWdlSW5ZZWFyc0F0KGRhdGUgZnJvbSBlbmQgb2YgIk1lYXN1cmVtZW50IFBlcmlvZCIpPj0gODEKICAgICAgICBhbmQgIkhhcyBDcml0ZXJpYSBJbmRpY2F0aW5nIEZyYWlsdHkiCiAgICApCgpkZWZpbmUgIkhhcyBDcml0ZXJpYSBJbmRpY2F0aW5nIEZyYWlsdHkiOgogIGV4aXN0cyAoICgoW0RldmljZVJlcXVlc3Q6ICJGcmFpbHR5IERldmljZSJdKS5pc0RldmljZU9yZGVyKCkpIEZyYWlsdHlEZXZpY2VPcmRlcgogICAgICB3aGVyZSBGcmFpbHR5RGV2aWNlT3JkZXIuZG9Ob3RQZXJmb3JtKCkgaXMgbm90IHRydWUKICAgICAgYW5kIEZyYWlsdHlEZXZpY2VPcmRlci5hdXRob3JlZE9uLnRvSW50ZXJ2YWwoKSBkdXJpbmcgZGF5IG9mICJNZWFzdXJlbWVudCBQZXJpb2QiCiAgKQogICAgb3IgZXhpc3RzICggKChbT2JzZXJ2YXRpb246ICJNZWRpY2FsIGVxdWlwbWVudCB1c2VkIl0pLmlzQXNzZXNzbWVudFBlcmZvcm1lZCgpKSBFcXVpcG1lbnRVc2VkCiAgICAgICAgd2hlcmUgRXF1aXBtZW50VXNlZC52YWx1ZSBhcyBDb25jZXB0IGluICJGcmFpbHR5IERldmljZSIgCiAgICAgICAgYW5kIEVxdWlwbWVudFVzZWQuZWZmZWN0aXZlLnRvSW50ZXJ2YWwoKSBlbmRzIGR1cmluZyBkYXkgb2YgIk1lYXN1cmVtZW50IFBlcmlvZCIKICAgICkKICAgIG9yIGV4aXN0cyAoIChbQ29uZGl0aW9uOiAiRnJhaWx0eSBEaWFnbm9zaXMiXSkgRnJhaWx0eURpYWdub3NpcwogICAgICAgIHdoZXJlIEZyYWlsdHlEaWFnbm9zaXMucHJldmFsZW5jZUludGVydmFsKCkgb3ZlcmxhcHMgIk1lYXN1cmVtZW50IFBlcmlvZCIKICAgICkKICAgIG9yIGV4aXN0cyAoICgoW0VuY291bnRlcjogIkZyYWlsdHkgRW5jb3VudGVyIl0pLmlzRW5jb3VudGVyUGVyZm9ybWVkKCkpIEZyYWlsdHlFbmNvdW50ZXIKICAgICAgICB3aGVyZSBGcmFpbHR5RW5jb3VudGVyLnBlcmlvZC50b0ludGVydmFsKCkgb3ZlcmxhcHMgIk1lYXN1cmVtZW50IFBlcmlvZCIKICAgICkKICAgIG9yIGV4aXN0cyAoICgoW09ic2VydmF0aW9uOiAiRnJhaWx0eSBTeW1wdG9tIl0pLmlzU3ltcHRvbSgpKSBGcmFpbHR5U3ltcHRvbQogICAgICAgIHdoZXJlIEZyYWlsdHlTeW1wdG9tLmVmZmVjdGl2ZS50b0ludGVydmFsKCkgb3ZlcmxhcHMgIk1lYXN1cmVtZW50IFBlcmlvZCIKICAgICkKCmRlZmluZSAiSGFzIFR3byBPdXRwYXRpZW50IEVuY291bnRlcnMgd2l0aCBBZHZhbmNlZCBJbGxuZXNzIG9uIERpZmZlcmVudCBEYXRlcyBvZiBTZXJ2aWNlIjoKICBleGlzdHMgKCBmcm9tCiAgICAgICJPdXRwYXRpZW50IEVuY291bnRlcnMgd2l0aCBBZHZhbmNlZCBJbGxuZXNzIiBPdXRwYXRpZW50RW5jb3VudGVyMSwKICAgICAgIk91dHBhdGllbnQgRW5jb3VudGVycyB3aXRoIEFkdmFuY2VkIElsbG5lc3MiIE91dHBhdGllbnRFbmNvdW50ZXIyCiAgICAgIHdoZXJlIE91dHBhdGllbnRFbmNvdW50ZXIyLnBlcmlvZCBlbmRzIDEgZGF5IG9yIG1vcmUgYWZ0ZXIgZGF5IG9mIAogICAgICBlbmQgb2YgT3V0cGF0aWVudEVuY291bnRlcjEucGVyaW9kCiAgICAgIHJldHVybiBPdXRwYXRpZW50RW5jb3VudGVyMQogICkKCmRlZmluZSAiT3V0cGF0aWVudCBFbmNvdW50ZXJzIHdpdGggQWR2YW5jZWQgSWxsbmVzcyI6CiAgICgoIFtFbmNvdW50ZXI6ICJPdXRwYXRpZW50Il0KICAgIHVuaW9uIFtFbmNvdW50ZXI6ICJPYnNlcnZhdGlvbiJdCiAgICB1bmlvbiBbRW5jb3VudGVyOiAiRW1lcmdlbmN5IERlcGFydG1lbnQgRXZhbHVhdGlvbiBhbmQgTWFuYWdlbWVudCBWaXNpdCJdCiAgICB1bmlvbiBbRW5jb3VudGVyOiAiTm9uYWN1dGUgSW5wYXRpZW50Il0gKS5pc0VuY291bnRlclBlcmZvcm1lZCgpKSBPdXRwYXRpZW50RW5jb3VudGVyCiAgICAgIHdoZXJlIGV4aXN0cyAoKE91dHBhdGllbnRFbmNvdW50ZXIuZW5jb3VudGVyRGlhZ25vc2lzKCkpIERpYWdub3NpcyB3aGVyZSBEaWFnbm9zaXMuY29kZSBpbiAiQWR2YW5jZWQgSWxsbmVzcyIpCiAgICAgICAgYW5kIE91dHBhdGllbnRFbmNvdW50ZXIucGVyaW9kLnRvSW50ZXJ2YWwoKSBzdGFydHMgZHVyaW5nIGRheSBvZiBJbnRlcnZhbFtzdGFydCBvZiAiTWVhc3VyZW1lbnQgUGVyaW9kIiAtIDEgeWVhciwgCiAgICAgICAgZW5kIG9mICJNZWFzdXJlbWVudCBQZXJpb2QiXQoKZGVmaW5lICJIYXMgSW5wYXRpZW50IEVuY291bnRlciB3aXRoIEFkdmFuY2VkIElsbG5lc3MiOgogIGV4aXN0cyAoICggKFtFbmNvdW50ZXI6ICJBY3V0ZSBJbnBhdGllbnQiXSkuaXNFbmNvdW50ZXJQZXJmb3JtZWQoKSkgSW5wYXRpZW50RW5jb3VudGVyCiAgICAgIHdoZXJlIGV4aXN0cyAoKElucGF0aWVudEVuY291bnRlci5lbmNvdW50ZXJEaWFnbm9zaXMoKSkgRGlhZ25vc2lzIHdoZXJlIERpYWdub3Npcy5jb2RlIGluICJBZHZhbmNlZCBJbGxuZXNzIikKICAgICAgICBhbmQgSW5wYXRpZW50RW5jb3VudGVyLnBlcmlvZC50b0ludGVydmFsKCkgc3RhcnRzIGR1cmluZyBkYXkgb2YgSW50ZXJ2YWxbc3RhcnQgb2YgIk1lYXN1cmVtZW50IFBlcmlvZCIgLSAxIHllYXIsIAogICAgICAgICAgZW5kIG9mICJNZWFzdXJlbWVudCBQZXJpb2QiXQogICkKCmRlZmluZSAiSGFzIERlbWVudGlhIE1lZGljYXRpb25zIGluIFllYXIgQmVmb3JlIG9yIER1cmluZyBNZWFzdXJlbWVudCBQZXJpb2QiOgogIGV4aXN0cyAoKCAoW01lZGljYXRpb25SZXF1ZXN0OiAiRGVtZW50aWEgTWVkaWNhdGlvbnMiXSkuaXNNZWRpY2F0aW9uQWN0aXZlKCkpIERlbWVudGlhTWVkaWNhdGlvbgogICAgICB3aGVyZSBEZW1lbnRpYU1lZGljYXRpb24uZG9Ob3RQZXJmb3JtIGlzIG5vdCB0cnVlIGFuZAogICAgICBDTUQuIk1lZGljYXRpb25SZXF1ZXN0UGVyaW9kIiAoIERlbWVudGlhTWVkaWNhdGlvbiApIG92ZXJsYXBzIEludGVydmFsW3N0YXJ0IG9mICJNZWFzdXJlbWVudCBQZXJpb2QiIC0gMSB5ZWFyLCAKICAgICAgICBlbmQgb2YgIk1lYXN1cmVtZW50IFBlcmlvZCJdCiAgKQoKZGVmaW5lICJJcyBBZ2UgNjYgb3IgT2xkZXIgTGl2aW5nIExvbmcgVGVybSBpbiBhIE51cnNpbmcgSG9tZSI6CiAgQWdlSW5ZZWFyc0F0KGRhdGUgZnJvbSAKICAgICBlbmQgb2YgIk1lYXN1cmVtZW50IFBlcmlvZCIKICApPj0gNjYKICAgIGFuZCAoICggTGFzdCggKChbT2JzZXJ2YXRpb246ICJIb3VzaW5nIHN0YXR1cyJdKS5pc0Fzc2Vzc21lbnRQZXJmb3JtZWQoKSkgSG91c2luZ1N0YXR1cyAgICAKICAgICAgICAgIHdoZXJlIEhvdXNpbmdTdGF0dXMuZWZmZWN0aXZlLnRvSW50ZXJ2YWwoKSBlbmRzIG9uIG9yIGJlZm9yZSAKICAgICAgICAgIGVuZCBvZiAiTWVhc3VyZW1lbnQgUGVyaW9kIgogICAgICAgICAgc29ydCBieSAKICAgICAgICAgIGVuZCBvZiBlZmZlY3RpdmUudG9JbnRlcnZhbCgpIGFzYwogICAgICApKSBMYXN0SG91c2luZ1N0YXR1cwogICAgICAgIHdoZXJlIExhc3RIb3VzaW5nU3RhdHVzLnZhbHVlIH4gIkxpdmVzIGluIGEgbnVyc2luZyBob21lIChmaW5kaW5nKSIKICAgICkgaXMgbm90IG51bGw="
  } ]
}